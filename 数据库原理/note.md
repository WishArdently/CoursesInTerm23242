## Tips

referential integrity : 参照完整性

外键约束 ： 一个表中的列如果施加了外键约束，那么其值必须与主表中的**主键**或者**唯一键**相匹配。

如果对于两个关系R(A, B)，S(B, C)，如果S表为主表，而R表引用了S表中的B作为外键，那么将会在执行哪些操作时触发外键约束的检查？

在关系R(A, B)引用了关系S(B, C)中的B作为外键时，当对S表进行更新或删除时，会触发外键约束的检查。具体来说：

1. **更新操作**：如果S表中的B列的值被更新，DBMS会检查R表中所有引用了这个B值作为外键的记录。根据定义的外键约束，可以执行级联更新操作，即更新R表中对应的外键值，以保持数据的一致性。
2. **删除操作**：如果S表中的某个记录被删除，DBMS会检查R表中所有引用了这个B值作为外键的记录。根据定义的外键约束，可以执行级联删除操作，即删除R表中对应的外键值，或者阻止对S表的删除操作，以确保数据的引用完整性。

主键约束 VS 唯一约束

主键约束：只能有一个，不能为NULL，需要显式创建索引

唯一约束：可以有多个，可以为NULL，自动生成索引

```postgresql
CONSTRAINT my_constraint CHECK gender in ('F', 'M');

COUNT(*) 返回table.shape[0]	忽略NULL
COUNT(attr)	返回非空行数		 不会忽略NULL

CROSS JOIN	 笛卡尔积
JOIN		 普通连接
NATURAL JOIN 自然连接
materialized
```

**求函数依赖集的投影**：

$R(A_1,A_2,\cdots,A_n)$

$R_1(B_1,B_2,\cdots,B_m)=\pi_c(R)$

（1）计算$P(R_1)$中所有子集的闭包

（2）将闭包投影到$R_1$上

（3）将所有符合条件的函数依赖加入答案
